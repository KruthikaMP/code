package _221047015;
//import java.sql.Connection;
//import java.sql.DriverManager;
//import java.sql.PreparedStatement;
//import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.Scanner;
public class Main {
	    
	        public static void main(String[] args)throws Exception {
	        Studentimp p=new Studentimp();
	        Scanner sc=new Scanner(System.in);
	        System.out.println("Enter your choice 1.insert 2.view ");
	        int  n=sc.nextInt();
	        if(n==1) {
	            p.insertvalues();
	        }
	        else if(n==2) {
	            p.viewval();
	        }
	        
	        
	    }
	}

****************************************************************

package _221047015;
import java.io.FileReader;
import java.io.IOException;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.Properties;
import java.util.Scanner;

	 

	class Studentimp {
	    static Connection connection;
	void insertvalues() throws SQLException, ClassNotFoundException, IOException 
	{
		 Scanner sc=new Scanner(System.in);
		String connectionUrl = "jdbc:sqlserver://172.16.51.44;" +
		            "databaseName=221047015;integratedSecurity=false;user=mayamma;password=maya@897";
		    connection = DriverManager.getConnection(connectionUrl);
		
	    String sql="insert into Student_master values (?,?,?,?,?,?,?)"; 
	    PreparedStatement preparedStatement=connection.prepareStatement(sql);
	    
	    System.out.println("Enter RollId");
	    int RollId=sc.nextInt();
	    preparedStatement.setInt(1, RollId);
	    
	    System.out.println("Enter student name");
	    String Sname=sc.next();
	    preparedStatement.setString(2,Sname);
	    
	    System.out.println("Enter Student address");
	    String Address=sc.next();
	    preparedStatement.setString(3,Address);
	    
	    System.out.println("Enter Student branch");
	    String branch=sc.next();
	    preparedStatement.setString(4,branch);
	    
	    System.out.println("Enter student subjectid");
	    int SubId=sc.nextInt();
	    preparedStatement.setInt(5, SubId);
	    
	    System.out.println("Enter subject name");
	    String Subname=sc.next();
	    preparedStatement.setString(6,Subname);
	    
	    System.out.println("Enter student credit");
	    int Credit=sc.nextInt();
	    preparedStatement.setInt(7, Credit);
	    
	    
	    
	    //Execute the query
	    int n=preparedStatement.executeUpdate();
	    if(n==1) {
	    System.out.println("record inserted");
	    }
	    else {
	    System.out.println("record not inserted");
	    }
	    //closing
	    preparedStatement.close();
	    connection.close();
	    }

	 
	void viewval() throws SQLException, ClassNotFoundException {
	    Scanner sc=new Scanner(System.in);
	          
	    String connectionUrl = "jdbc:sqlserver://172.16.51.44;" +
	            "databaseName=221047015;integratedSecurity=false;user=mayamma;password=maya@897";
	    connection = DriverManager.getConnection(connectionUrl);
	    String sql="select * from Std_sub_map where RollId =?";
	    PreparedStatement preparedStatement=connection.prepareStatement(sql);
	    System.out.println("Enter Rollid to View Student");
	    int RollID=sc.nextInt();
	    preparedStatement.setInt(1, RollID);
	    ResultSet resultSet=preparedStatement.executeQuery();
	    while(resultSet.next()) {
	    System.out.println(resultSet.getInt("RollId")+" "+resultSet.getString("SubId"));
	    }
	    resultSet.close();
	    preparedStatement.close();
	    connection.close();
	    }
	}
	




